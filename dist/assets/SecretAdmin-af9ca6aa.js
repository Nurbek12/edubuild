import{a as h}from"./index-7376b9a9.js";import{u as C,r as f,a as s,o as z,c as B,w as t,b as a,d as o,t as l}from"./index-1590be2c.js";const T={class:"responsive-datatable"},V={"data-label":"T/r"},$={"data-label":"Test nomi"},F={"data-label":"Talaba"},I={"data-label":"Guruhi"},N={"data-label":"Bahosi"},O={"data-label":"Foizi"},S={"data-label":"Ochirish"},j={"data-label":"Ko'rish"},q={"data-label":"Boshqarish"},G={class:"d-flex justify-end"},K=o("div",null,"Hech narsa topilmadi",-1),Q={__name:"SecretAdmin",setup(A){C();const w=[{title:"T/r",align:"start",key:"no",sortable:!1},{title:"Test Nomi",key:"test.name"},{title:"Talaba",key:"student.name"},{title:"Guruhi",key:"student.group"},{title:"Bahosi",key:"rate"},{title:"Foizi",key:"percent"},{title:"Ko'rish",key:"view"},{title:"O'chirish",key:"remove"}],m=f(""),d=f([]),b=async()=>{const{data:n}=await h.get("/test/result/");d.value=n};async function y(n){if(confirm("O'chirishga rozimisiz")){const{data:c}=await h.delete(`/test/result/${n}`);if(c){const u=d.value.findIndex(r=>r._id===n);d.value.splice(u,1)}}}return b(),(n,c)=>{const u=s("v-text-field"),r=s("v-col"),v=s("v-row"),p=s("v-sheet"),_=s("v-btn"),k=s("v-spacer"),x=s("v-data-table"),g=s("v-container");return z(),B(g,{fluid:""},{default:t(()=>[a(v,null,{default:t(()=>[a(r,{cols:"12"},{default:t(()=>[a(p,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:t(()=>[a(v,{justify:"space-between",align:"center"},{default:t(()=>[a(r,{cols:"12",sm:"4"},{default:t(()=>[a(u,{label:"Qidirish",modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=e=>m.value=e),variant:"outlined",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{cols:"12"},{default:t(()=>[a(p,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:t(()=>[o("div",T,[a(x,{headers:w,search:m.value,items:d.value},{"item.no":t(({index:e})=>[o("td",V,l(e+1)+".",1)]),"item.test.name":t(({item:e})=>[o("td",$,l(e.raw.test.name),1)]),"item.student.name":t(({item:e})=>{var i;return[o("td",F,l((i=e.raw.student)==null?void 0:i.name),1)]}),"item.student.group":t(({item:e})=>{var i;return[o("td",I,l((i=e.raw.student)==null?void 0:i.group),1)]}),"item.rate":t(({item:e})=>[o("td",N,l(e.raw.rate),1)]),"item.percent":t(({item:e})=>[o("td",O,l(parseFloat(e.raw.rate*100/e.raw.questions).toFixed(1))+" % ",1)]),"item.remove":t(({item:e})=>[o("td",S,[a(_,{color:"primary",icon:"mdi-delete",variant:"text",onClick:i=>y(e.raw._id)},null,8,["onClick"])])]),"item.view":t(({item:e})=>[o("td",j,[a(_,{color:"primary",icon:"mdi-eye-arrow-right",variant:"text",to:`/secrettest/${e.raw._id}`},null,8,["to"])])]),"item.actions":t(({item:e})=>[o("td",q,[a(k),o("div",G,[a(_,{icon:"mdi-pencil",variant:"text",size:"40",color:"primary",onClick:i=>n.editItem(e.raw)},null,8,["onClick"]),a(_,{icon:"mdi-delete",variant:"text",size:"40",color:"primary",onClick:i=>n.deleteItem(e.raw)},null,8,["onClick"])])])]),"no-data":t(()=>[K]),_:1},8,["search","items"])])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Q as default};
