import{r as m,k as D,g as E,a as o,o as i,c as f,w as t,b as a,h,i as w,F as $,f as s,t as u,q as L}from"./index-1590be2c.js";import{a as y}from"./index-7376b9a9.js";const G={__name:"SecretTest",setup(O){const p=m([]);m("");const _=m(null),C=D();E();const v=C.params.id;function T(){window.history.back()}const g=async()=>{const{data:d}=await y.get(`/test/get/${v}`);_.value=d,p.value=d.questions},V=async(d,l)=>{await y.put(`/test/upd/${v}/${d}/${l}`)},F=async()=>{await y.put(`/test/finish/${v}?secretcode=1234`),g()};return g(),(d,l)=>{const n=o("v-card-text"),B=o("v-radio"),N=o("v-radio-group"),k=o("v-card"),x=o("v-col"),S=o("v-card-title"),b=o("v-btn"),j=o("v-spacer"),z=o("v-card-actions"),R=o("v-row"),U=o("v-container");return i(),f(U,{fluid:""},{default:t(()=>[a(R,null,{default:t(()=>[a(x,{cols:"12",md:"7"},{default:t(()=>[(i(!0),h($,null,w(p.value,(e,c)=>(i(),f(k,{class:"mb-3",color:"surface",key:c},{default:t(()=>[a(n,{class:"pb-0"},{default:t(()=>[s(u(c+1)+". "+u(e.text),1)]),_:2},1024),a(n,{class:"pt-1"},{default:t(()=>[a(N,{color:"primary",modelValue:e.selected,"onUpdate:modelValue":r=>e.selected=r,onChange:r=>V(c,e.selected),"hide-details":""},{default:t(()=>[(i(!0),h($,null,w(e.variants,(r,Y)=>(i(),f(B,{key:Y,class:L(r.value==1?"green-color":"red-color"),label:r.text,value:r._id},null,8,["class","label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(x,{cols:"12",md:"5",class:"d-flex justify-end align-start"},{default:t(()=>[a(k,{width:"100%",color:"surface",class:"sticky"},{default:t(()=>[a(S,null,{default:t(()=>[s("Natijalar")]),_:1}),a(n,{class:"text-red"},{default:t(()=>[s('<< Testlarni belgilagandan keyin "Yakunlash" ni bosing!!! >>')]),_:1}),a(n,{class:"py-1"},{default:t(()=>{var e;return[s("Test nomi: "+u((e=_.value)==null?void 0:e.test.name),1)]}),_:1}),a(n,{class:"py-1"},{default:t(()=>{var e,c;return[s("Talaba: "+u((c=(e=_.value)==null?void 0:e.student)==null?void 0:c.name),1)]}),_:1}),a(n,{class:"py-1"},{default:t(()=>{var e;return[s("To'gri: "+u((e=_.value)==null?void 0:e.rate),1)]}),_:1}),a(n,{class:"py-1"},{default:t(()=>{var e;return[s("Foiz: "+u(parseFloat(((e=_.value)==null?void 0:e.rate)*100/p.value.length).toFixed(1))+" %",1)]}),_:1}),a(z,null,{default:t(()=>[a(b,{color:"primary",onClick:l[0]||(l[0]=e=>T())},{default:t(()=>[s("Ortga Qaytish")]),_:1}),a(j),a(b,{color:"primary",onClick:l[1]||(l[1]=e=>F())},{default:t(()=>[s("Yakunlash")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{G as default};
